
// sandbox/core/i18n.js

export const translations = {
    en: {
        "searchPlaceholder": "Search for chats",
        "recentLabel": "Recent",
        "noConversations": "No conversations found.",
        "settings": "Settings",
        "chatHistory": "Chat History",
        "newChat": "New Chat",
        "pageContext": "Page",
        "browserControl": "Browser Control",
        "quote": "Quote",
        "ocr": "OCR",
        "snip": "Snip",
        "screenshotTranslate": "Translate",
        "uploadImage": "Upload Image",
        "uploadTooLarge": "File is too large. Max size is 10MB.",
        "uploadFailed": "Failed to process file.",
        "askPlaceholder": "Ask Chubby Cat...",
        "sendMessage": "Send message",
        "stopGenerating": "Stop generating",
        "settingsTitle": "Settings",
        "general": "General",
        "connection": "Connection",
        "connectionProvider": "Model Provider",
        "providerWeb": "Chubby Cat Web Client (Free)",
        "providerGrok": "Grok Web Client (Free)",
        "providerOfficial": "Gemini API",
        "providerOpenAI": "OpenAI/Claude Compatible API",
        "mcpTools": "External MCP Tools",
        "mcpToolsDesc": "Connect to an MCP server and use its tools in chat.",
        "mcpActiveServer": "Active Server",
        "mcpActiveServers": "Active Servers",
        "mcpSelectServers": "Select servers to use",
        "mcpNoServerSelected": "No server selected",
        "mcpMultiServerHint": "Check multiple servers to use them together. All selected tools will be available.",
        "mcpAddServer": "Add",
        "mcpRemoveServer": "Remove",
        "mcpServerName": "Name",
        "mcpTestConnection": "Test Connection",
        "mcpToolMode": "Expose Tools",
        "mcpToolModeAll": "All tools (default)",
        "mcpToolModeSelected": "Selected tools only",
        "mcpRefreshTools": "Refresh Tools",
        "mcpEnableAllTools": "Enable All",
        "mcpDisableAllTools": "Disable All",
        "mcpToolSearchPlaceholder": "Search tools...",
        "mcpTransport": "MCP Transport",
        "mcpServerUrl": "MCP Server URL",
        "enabled": "Enabled",
        "useOfficialApiDesc": "Use your own API key with Flash models.",
        "apiKey": "API Key",
        "apiKeyPlaceholder": "Paste your API Key",
        "baseUrl": "Base URL",
        "baseUrlPlaceholder": "e.g. https://api.openai.com/v1",
        "modelId": "Model ID",
        "modelIdPlaceholder": "e.g. gpt-4o, claude-3-5-sonnet",
        "openaiConfigSection": "API Configuration",
        "openaiAddConfig": "Add",
        "openaiRemoveConfig": "Remove",
        "openaiConfigName": "Configuration Name",
        "openaiConfigNamePlaceholder": "e.g. Production API",
        "openaiTimeout": "Timeout (ms)",
        "openaiSetDefault": "Set as Default",
        "openaiModelsTitle": "Models",
        "openaiAddModel": "Add Model",
        "openaiUpdateModel": "Update",
        "openaiCancelEdit": "Cancel",
        "openaiModelActive": "Active",
        "openaiModelUse": "Use",
        "openaiModelEdit": "Edit",
        "openaiModelRemove": "Remove",
        "openaiModelEmpty": "No models added yet",
        "openaiModelRequired": "Model ID is required",
        "openaiModelDuplicate": "Model already exists",
        "officialModelsTitle": "Models",
        "officialModelPlaceholder": "e.g. gemini-2.5-pro, gemini-1.5-flash",
        "officialAddModel": "Add",
        "officialCancelEdit": "Cancel",
        "officialModelActive": "Active",
        "officialModelUse": "Use",
        "officialModelEdit": "Edit",
        "officialModelRemove": "Remove",
        "officialModelEmpty": "No models added yet",
        "officialModelRequired": "Model ID is required",
        "officialModelDuplicate": "Model already exists",
        "officialModelUpdate": "Update",
        "docTranslationTitle": "Document Translation",
        "docTranslationDesc": "OCR settings and document preprocessing for custom API models",
        "docTranslationModelTitle": "Document Parsing Model",
        "docTranslationModelDesc": "Configure the OCR model used to extract text from PDFs and images.",
        "docParsingProvider": "Document Parsing Model",
        "docOcrApiKeyPlaceholder": "Paste your Mistral API Key",
        "docOcrBaseUrlPlaceholder": "https://api.mistral.ai/v1/ocr",
        "docOcrModelName": "Model Name",
        "docOcrUnlock": "Modify",
        "docOcrModelLockHint": "Model name is locked by default. Click Modify to change.",
        "docOcrModelEditWarning": "Changing the OCR model can break document parsing. Do you want to continue?",
        "docOcrModelEditConfirm": "Please confirm again to unlock model editing.",
        "docOcrModelUnlocked": "Model editing unlocked. Remember to save changes.",
        "docTranslationSecurityNote": "Documents are sent to the parsing model for OCR. Keep API keys secure and only upload trusted files.",
        "docProcessingTitle": "Document Processing",
        "docProcessingDesc": "Use the parsing model before sending content to your custom OpenAI API model.",
        "docProcessingToggle": "Use Document Processing Model",
        "docProcessingToggleDesc": "Preprocess PDFs and images with OCR, then forward text to your main model.",
        "docProcessingUnavailable": "This option is available only for the Custom API provider.",
        "docProcessingScopeTitle": "Applies to:",
        "docProcessingScopePdf": "PDF files uploaded as attachments",
        "docProcessingScopeImage": "Image files uploaded as attachments",
        "docProcessingScopeInlineImage": "Images pasted or directly input",
        "textSelection": "Text Selection Toolbar",
        "textSelectionDesc": "Show floating toolbar when selecting text.",
        "imageToolsToggle": "Show Image Tools Button",
        "imageToolsToggleDesc": "Show the AI button when hovering over images.",
        "sidebarBehavior": "When Sidebar Reopens",
        "sidebarBehaviorAuto": "Auto restore or restart",
        "sidebarBehaviorAutoDesc": "Restore if opened within 10 mins, otherwise start new chat.",
        "sidebarBehaviorRestore": "Always restore previous chat",
        "sidebarBehaviorNew": "Always start new chat",
        "accountIndices": "Account Indices (Multi-account)",
        "accountIndicesDesc": "Comma-separated user indices (e.g., 0, 1, 2) for polling.",
        "appearance": "Appearance",
        "theme": "Theme",
        "language": "Language",
        "keyboardShortcuts": "Keyboard Shortcuts",
        "shortcutDesc": "Click input and press keys to change.",
        "quickAsk": "Quick Ask (Floating)",
        "openSidePanel": "Open Side Panel",
        "openExtension": "Open Extension",
        "shortcutFocusInput": "Focus Input",
        "shortcutSwitchModel": "Switch Model (in Input)",
        "shortcutBrowserControl": "Open Browser Control",
        "resetDefault": "Reset Default",
        "saveChanges": "Save Changes",
        "system": "System",
        "debugLogs": "Debug Logs",
        "downloadLogs": "Download Logs",
        "about": "About",
        "sourceCode": "Source Code",
        "buyMeCoffee": "Buy Me a Coffee",
        "system": "System Default",
        "light": "Light",
        "dark": "Dark",
        "pageContextActive": "Chat with page is already active",
        "pageContextEnabled": "Chat will include page content",
        "cancelled": "Cancelled.",
        "thinking": "Chubby Cat is thinking...",
        "deleteChatConfirm": "Delete this chat?",
        "delete": "Delete",
        "imageSent": "Image sent",
        "selectOcr": "Select area for OCR...",
        "selectSnip": "Select area to capture...",
        "selectTranslate": "Select area to translate...",
        "processingImage": "Processing image...",
        "failedLoadImage": "Failed to load image.",
        "errorScreenshot": "Error processing screenshot.",
        "noTextSelected": "No text selected on page.",
        "ocrPrompt": "Please OCR this image. Extract the text content exactly as is, without any explanation.",
        "screenshotTranslatePrompt": "Please extract the text from this image and translate it into English. Output ONLY the translation.",
        "loadingImage": "Loading image...",
        "readingPage": "Reading page content...",
        "pageReadSuccess": "Read page content (~{count} chars)",
        "regenerate": "Regenerate",
        "regenerating": "Regenerating...",

        // MCP Toggle
        "mcpToggle": "MCP",
        "mcpToggleTooltip": "Toggle MCP server tools",
        "mcpToggleOn": "MCP tools enabled",
        "mcpToggleOff": "MCP tools disabled",
        "mcpNoServersConfigured": "No MCP servers configured",
        "mcpServersTitle": "MCP Servers",
        "mcpNoServers": "No MCP servers configured. Open settings to add servers.",
        "mcpOpenSettings": "Open MCP Settings",
        "mcpServersActive": "{active} of {total} server(s) active",
        "mcpServersInactive": "{total} server(s) configured, none active",

        // Tooltips
        "toggleHistory": "Chat History",
        "newChatTooltip": "New Chat",
        "pageContextTooltip": "Toggle chat with page content",
        "browserControlTooltip": "Allow model to control the browser",
        "quoteTooltip": "Quote selected text from page",
        "ocrTooltip": "Capture area and extract text",
        "screenshotTranslateTooltip": "Capture area and translate text",
        "snipTooltip": "Capture area to input",
        "removeImage": "Remove image",
        "uploadImageTooltip": "Upload Image",
        "zoomOut": "Zoom Out",
        "zoomIn": "Zoom In",
        "resetZoom": "Fit to Screen",
        "downloadImage": "Download Image",
        "close": "Close",
        "sendMessageTooltip": "Send message",
        "openFullPageTooltip": "Open in full page",
        "modelSelectTooltip": "Select Model (Tab to cycle)",

        // Model Source Groups
        "modelGroupWeb": "── Gemini 网页(FREE) ──",
        "modelGroupOfficial": "── Gemini API ──",
        "modelGroupOpenAI": "── Custom API ──",
        "providerSwitching": "Switching model provider...",
        "providerSwitched": "Switched to {provider}",
        "providerSwitchError": "Failed to switch provider",
        "noApiKeyConfigured": "No API key configured for this provider",

        "selectTab": "Select Active Tab",
        "selectTabTooltip": "Select a tab to control",
        "noTabsFound": "No open tabs found.",
        "lockTab": "Lock Tab",
        "unlockTab": "Unlock Tab (Auto-follow Active)",

        // Active Tab Display
        "activeTab": "Current Tab",
        "activeTabTooltip": "Click to select tabs for context import",
        "selectTabsForContext": "Select Tabs for Context",
        "selectTabsDesc": "Select one or more tabs to import their content as context",
        "selectedTabsCount": "{count} tab(s) selected",
        "importSelectedTabs": "Import Selected",
        "noTabSelected": "No tab selected",
        "importingTabs": "Importing tab content...",
        "tabsImported": "Imported {count} tab(s) content",
        "loadingActiveTab": "Loading...",
        "selectAll": "Select All",
        "deselectAll": "Deselect All",

        // Data Management
        "dataManagement": "Data Management",
        "exportConfigs": "Export Configurations",
        "exportConfigsDesc": "Export all API configurations to a JSON file for backup or migration.",
        "exportButton": "Export",
        "exportChatHistory": "Include chat history",
        "exportChatHistoryDesc": "Export all conversation history (may result in a large file)",
        "importConfigs": "Import Configurations",
        "importConfigsDesc": "Import OpenAI API configurations from a previously exported JSON file.",
        "importButton": "Import",
        "dropZoneText": "Drop JSON file here or click to select",
        "dropZoneHint": "Supports .json files exported from Chubby Cat",
        "importMode": "Import Mode",
        "importModeMerge": "Merge (keep existing)",
        "importModeReplace": "Replace (overwrite all)",
        "filePreview": "File Preview",
        "clearSelection": "Clear",
        "securityWarningTitle": "Security Notice",
        "securityWarningText": "Exported files contain your API keys in plain text. Store them securely and never share them publicly. Only import files from trusted sources.",

        // Quick Phrases
        "quickPhrases": "Quick Phrases",
        "quickPhrasesTooltip": "Quick Phrases",
        "addQuickPhrase": "Add Quick Phrase",
        "editQuickPhrase": "Edit Quick Phrase",
        "noQuickPhrases": "No quick phrases yet. Click + to add one.",
        "quickPhrasePlaceholder": "Enter your quick phrase...",
        "save": "Save",
        "cancel": "Cancel",
        "edit": "Edit",

        // Save Chat
        "saveChatTooltip": "Save Chat as Markdown",
        "nothingToSave": "Nothing to save",
        "saving": "Saving...",
        "chatSaved": "Chat saved",
        "chatUpdated": "Chat updated",

        // Summary Prompt
        "summaryPromptTitle": "Page Summary Prompt",
        "summaryPromptDesc": "Customize the prompt used when clicking the sidebar icon to summarize pages.",
    },
    zh: {
        "mcpTools": "外部 MCP 工具",
        "mcpToolsDesc": "连接到 MCP 服务器，并在对话中调用其工具。",
        "mcpActiveServer": "当前服务器",
        "mcpActiveServers": "激活的服务器",
        "mcpSelectServers": "选择要使用的服务器",
        "mcpNoServerSelected": "未选择服务器",
        "mcpMultiServerHint": "勾选多个服务器可同时使用它们，所有选中服务器的工具都将可用。",
        "mcpAddServer": "添加",
        "mcpRemoveServer": "移除",
        "mcpServerName": "名称",
        "mcpTestConnection": "测试连接",
        "mcpToolMode": "工具暴露方式",
        "mcpToolModeAll": "全部工具（默认）",
        "mcpToolModeSelected": "仅选择的工具",
        "mcpRefreshTools": "刷新工具列表",
        "mcpEnableAllTools": "全部启用",
        "mcpDisableAllTools": "全部禁用",
        "mcpToolSearchPlaceholder": "搜索工具...",
        "mcpTransport": "MCP 传输方式",
        "mcpServerUrl": "MCP 服务器地址",
        "enabled": "启用",
        "searchPlaceholder": "搜索对话",
        "recentLabel": "最近",
        "noConversations": "未找到对话。",
        "settings": "设置",
        "chatHistory": "历史记录",
        "newChat": "新对话",
        "pageContext": "网页",
        "browserControl": "浏览器控制",
        "quote": "引用",
        "ocr": "OCR",
        "snip": "截图",
        "screenshotTranslate": "截图翻译",
        "uploadImage": "上传图片",
        "uploadTooLarge": "文件过大，最大支持 10MB。",
        "uploadFailed": "文件处理失败。",
        "askPlaceholder": "询问猫猫...",
        "sendMessage": "发送消息",
        "stopGenerating": "停止生成",
        "settingsTitle": "设置",
        "general": "常规",
        "connection": "连接",
        "connectionProvider": "模型来源",
        "providerWeb": "Gemini 网页版 (免费)",
        "providerGrok": "Grok 网页版 (免费)",
        "providerOfficial": "Gemini API",
        "providerOpenAI": "OpenAI/Claude 兼容 API",
        "useOfficialApiDesc": "使用自定义 API Key (Flash 模型)。",
        "apiKey": "API Key",
        "apiKeyPlaceholder": "粘贴 API Key",
        "baseUrl": "Base URL (接口地址)",
        "baseUrlPlaceholder": "例如 https://api.openai.com/v1",
        "modelId": "模型 ID",
        "modelIdPlaceholder": "例如 gpt-4o, claude-3-5-sonnet",
        "openaiConfigSection": "API 配置",
        "openaiAddConfig": "添加",
        "openaiRemoveConfig": "移除",
        "openaiConfigName": "配置名称",
        "openaiConfigNamePlaceholder": "例如 生产环境",
        "openaiTimeout": "超时时间 (ms)",
        "openaiSetDefault": "设为默认",
        "openaiModelsTitle": "模型列表",
        "openaiAddModel": "添加模型",
        "openaiUpdateModel": "更新",
        "openaiCancelEdit": "取消",
        "openaiModelActive": "当前",
        "openaiModelUse": "使用",
        "openaiModelEdit": "编辑",
        "openaiModelRemove": "删除",
        "openaiModelEmpty": "暂无模型",
        "openaiModelRequired": "请填写模型 ID",
        "openaiModelDuplicate": "该模型已存在",
        "officialModelsTitle": "模型列表",
        "officialModelPlaceholder": "例如 gemini-2.5-pro, gemini-1.5-flash",
        "officialAddModel": "添加",
        "officialCancelEdit": "取消",
        "officialModelActive": "当前",
        "officialModelUse": "使用",
        "officialModelEdit": "编辑",
        "officialModelRemove": "删除",
        "officialModelEmpty": "暂无模型",
        "officialModelRequired": "请填写模型 ID",
        "officialModelDuplicate": "该模型已存在",
        "officialModelUpdate": "更新",
        "docTranslationTitle": "文档翻译",
        "docTranslationDesc": "自定义 API 模型的 OCR 与文档预处理设置",
        "docTranslationModelTitle": "文档解析模型",
        "docTranslationModelDesc": "配置用于解析 PDF 与图片的 OCR 模型。",
        "docParsingProvider": "文档解析模型",
        "docOcrApiKeyPlaceholder": "粘贴 Mistral API Key",
        "docOcrBaseUrlPlaceholder": "https://api.mistral.ai/v1/ocr",
        "docOcrModelName": "模型名称",
        "docOcrUnlock": "修改",
        "docOcrModelLockHint": "模型名称默认锁定，点击“修改”后可更改。",
        "docOcrModelEditWarning": "修改 OCR 模型可能导致解析失败，确定继续吗？",
        "docOcrModelEditConfirm": "请再次确认以解锁模型修改。",
        "docOcrModelUnlocked": "模型已解锁，请修改后保存。",
        "docTranslationSecurityNote": "文档会发送至解析模型进行 OCR。请妥善保管 API Key，并仅上传可信文件。",
        "docProcessingTitle": "文档处理关联",
        "docProcessingDesc": "在使用自定义 OpenAI API 模型前启用解析模型预处理。",
        "docProcessingToggle": "选用文档处理模型",
        "docProcessingToggleDesc": "先进行 OCR 解析，再将文本发送至主模型。",
        "docProcessingUnavailable": "此选项仅在自定义 API 模式下可用。",
        "docProcessingScopeTitle": "适用范围：",
        "docProcessingScopePdf": "通过附件上传的 PDF 文件",
        "docProcessingScopeImage": "通过附件上传的图片文件",
        "docProcessingScopeInlineImage": "粘贴或直接输入的图片",
        "textSelection": "划词工具栏",
        "textSelectionDesc": "选中网页文本时显示悬浮工具栏。",
        "imageToolsToggle": "显示图片工具按钮",
        "imageToolsToggleDesc": "鼠标悬停在图片上时显示 AI 按钮。",
        "sidebarBehavior": "当侧边栏重新打开时",
        "sidebarBehaviorAuto": "自动恢复或重新开始",
        "sidebarBehaviorAutoDesc": "如果在10分钟内重新打开，聊天将恢复；如果超过10分钟，将开始新的聊天",
        "sidebarBehaviorRestore": "始终恢复上次的聊天",
        "sidebarBehaviorNew": "始终开始新的聊天",
        "accountIndices": "多账号轮询 (Account Indices)",
        "accountIndicesDesc": "输入逗号分隔的账号索引值 (如 0, 1, 7) 以开启轮询。",
        "appearance": "外观",
        "theme": "主题",
        "language": "语言",
        "keyboardShortcuts": "快捷键",
        "shortcutDesc": "点击输入框并按下按键以修改。",
        "quickAsk": "快速提问 (悬浮)",
        "openSidePanel": "打开侧边栏",
        "openExtension": "打开扩展",
        "shortcutFocusInput": "聚焦输入框",
        "shortcutSwitchModel": "切换模型 (输入框内)",
        "shortcutBrowserControl": "打开浏览器控制",
        "resetDefault": "恢复默认",
        "saveChanges": "保存更改",
        "system": "系统",
        "debugLogs": "调试日志",
        "downloadLogs": "下载日志",
        "about": "关于",
        "sourceCode": "源代码",
        "buyMeCoffee": "请我喝咖啡",
        "system": "跟随系统",
        "light": "浅色",
        "dark": "深色",
        "pageContextActive": "网页对话已激活",
        "pageContextEnabled": "对话将包含网页内容",
        "cancelled": "已取消",
        "thinking": "猫猫 正在思考...",
        "deleteChatConfirm": "确认删除此对话？",
        "delete": "删除",
        "imageSent": "图片已发送",
        "selectOcr": "请框选要识别的区域...",
        "selectSnip": "请框选要截图的区域...",
        "selectTranslate": "请框选要翻译的区域...",
        "processingImage": "正在处理图片...",
        "failedLoadImage": "图片加载失败。",
        "errorScreenshot": "截图处理出错。",
        "noTextSelected": "页面上未选择文本。",
        "ocrPrompt": "请识别并提取这张图片中的文字 (OCR)。仅输出识别到的文本内容，不需要任何解释。",
        "screenshotTranslatePrompt": "请识别这张图片中的文字并将其翻译成中文。仅输出翻译后的内容。",
        "loadingImage": "正在加载图片...",
        "readingPage": "正在读取网页内容...",
        "pageReadSuccess": "已读取网页内容 (约 {count} 字)",
        "regenerate": "重新回答",
        "regenerating": "正在重新生成...",

        // MCP Toggle
        "mcpToggle": "MCP",
        "mcpToggleTooltip": "切换 MCP 服务器工具",
        "mcpToggleOn": "MCP 工具已启用",
        "mcpToggleOff": "MCP 工具已关闭",
        "mcpNoServersConfigured": "未配置 MCP 服务器",
        "mcpServersTitle": "MCP 服务器",
        "mcpNoServers": "未配置 MCP 服务器。请在设置中添加服务器。",
        "mcpOpenSettings": "打开 MCP 设置",
        "mcpServersActive": "{active}/{total} 个服务器已激活",
        "mcpServersInactive": "已配置 {total} 个服务器，无激活",

        // Tooltips
        "toggleHistory": "历史记录",
        "newChatTooltip": "新对话",
        "pageContextTooltip": "切换网页上下文对话",
        "browserControlTooltip": "允许模型控制浏览器",
        "quoteTooltip": "引用网页选中内容",
        "ocrTooltip": "区域截图 (OCR文字提取)",
        "screenshotTranslateTooltip": "截取区域并翻译文字",
        "snipTooltip": "区域截图 (作为图片输入)",
        "removeImage": "移除图片",
        "uploadImageTooltip": "上传图片",
        "zoomOut": "缩小",
        "zoomIn": "放大",
        "resetZoom": "适应屏幕",
        "downloadImage": "下载图片",
        "close": "关闭",
        "sendMessageTooltip": "发送消息",
        "openFullPageTooltip": "新标签页打开",
        "modelSelectTooltip": "选择模型 (按 Tab 切换)",

        // Model Source Groups
        "modelGroupWeb": "── 网页版 (免费) ──",
        "modelGroupOfficial": "── 官方 API ──",
        "modelGroupOpenAI": "── 自定义 API ──",
        "providerSwitching": "正在切换模型来源...",
        "providerSwitched": "已切换至 {provider}",
        "providerSwitchError": "切换来源失败",
        "noApiKeyConfigured": "该来源未配置 API 密钥",

        "selectTab": "选择活动标签页",
        "selectTabTooltip": "选择要控制的标签页",
        "noTabsFound": "未找到打开的标签页。",
        "lockTab": "锁定标签页",
        "unlockTab": "解锁 (自动跟随活动标签页)",

        // Active Tab Display
        "activeTab": "当前标签页",
        "activeTabTooltip": "点击选择标签页导入内容",
        "selectTabsForContext": "选择标签页导入上下文",
        "selectTabsDesc": "选择一个或多个标签页，将其内容作为上下文导入",
        "selectedTabsCount": "已选择 {count} 个标签页",
        "importSelectedTabs": "导入选中",
        "noTabSelected": "未选择标签页",
        "importingTabs": "正在导入标签页内容...",
        "tabsImported": "已导入 {count} 个标签页内容",
        "loadingActiveTab": "加载中...",
        "selectAll": "全选",
        "deselectAll": "取消全选",

        // Data Management
        "dataManagement": "数据管理",
        "exportConfigs": "导出配置",
        "exportConfigsDesc": "将所有 API 配置导出为 JSON 文件，用于备份或迁移。",
        "exportButton": "导出",
        "exportChatHistory": "包含聊天记录",
        "exportChatHistoryDesc": "导出所有对话历史（可能生成较大文件）",
        "importConfigs": "导入配置",
        "importConfigsDesc": "从之前导出的 JSON 文件中导入 OpenAI API 配置。",
        "importButton": "导入",
        "dropZoneText": "拖放 JSON 文件到此处或点击选择",
        "dropZoneHint": "支持从 Chubby Cat 导出的 .json 文件",
        "importMode": "导入模式",
        "importModeMerge": "合并 (保留现有配置)",
        "importModeReplace": "替换 (覆盖所有)",
        "filePreview": "文件预览",
        "clearSelection": "清除",
        "securityWarningTitle": "安全提示",
        "securityWarningText": "导出的文件包含明文 API 密钥。请安全存储，切勿公开分享。仅从可信来源导入文件。",

        // Quick Phrases
        "quickPhrases": "快捷短语",
        "quickPhrasesTooltip": "快捷短语",
        "addQuickPhrase": "添加快捷短语",
        "editQuickPhrase": "编辑快捷短语",
        "noQuickPhrases": "暂无快捷短语，点击 + 添加。",
        "quickPhrasePlaceholder": "输入快捷短语...",
        "save": "保存",
        "cancel": "取消",
        "edit": "编辑",

        // Save Chat
        "saveChatTooltip": "保存对话为 Markdown",
        "nothingToSave": "没有内容可保存",
        "saving": "保存中...",
        "chatSaved": "对话已保存",
        "chatUpdated": "对话已更新",

        // Summary Prompt
        "summaryPromptTitle": "网页总结 Prompt",
        "summaryPromptDesc": "自定义点击侧边图标时使用的网页总结提示词。",
    }
};

export function resolveLanguage(pref) {
    if (pref === 'system') {
        return navigator.language.startsWith('zh') ? 'zh' : 'en';
    }
    return pref;
}

let savedPreference = 'system';
let currentLang = resolveLanguage(savedPreference);

// Apply initial lang attribute for CSS/DOM consistency
try {
    document.documentElement.lang = currentLang;
} catch (e) { }

export function setLanguagePreference(pref) {
    savedPreference = pref;
    currentLang = resolveLanguage(pref);
    document.documentElement.lang = currentLang;
}

export function getLanguagePreference() {
    return savedPreference;
}

export function t(key) {
    return translations[currentLang][key] || key;
}

export function applyTranslations() {
    // 1. Text Content
    const elements = document.querySelectorAll('[data-i18n]');
    elements.forEach(el => {
        const key = el.getAttribute('data-i18n');
        const text = t(key);
        if (text) el.textContent = text;
    });

    // 2. Placeholders
    const placeholders = document.querySelectorAll('[data-i18n-placeholder]');
    placeholders.forEach(el => {
        const key = el.getAttribute('data-i18n-placeholder');
        const text = t(key);
        if (text) el.placeholder = text;
    });

    // 3. Titles (Tooltips)
    const titles = document.querySelectorAll('[data-i18n-title]');
    titles.forEach(el => {
        const key = el.getAttribute('data-i18n-title');
        const text = t(key);
        if (text) el.title = text;
    });
}
